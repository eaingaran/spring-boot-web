{"name":"Spring-boot-web","tagline":"A project which contains a simple Spring boot example for Web applications","body":"# Welcome to Jemos Spring Boot Web sample app\r\nThe goal os this project is to provide a simple and easy template for a Spring MVC application using Spring Boot. \r\nWhat are the advantages of using Spring Boot? \r\n\r\n* Zero XML configuration for your Spring MVC App\r\n* Easy Maven setup in a **jar** project which runs your Web application\r\n* Full support for unit and integration testing of your webapp without the need to start and stop containers\r\n\r\nFor years developers have struggled to get an easy way to setup and test a Spring MVC application. Typically one had to:\r\n\r\n* Setup a quite convoluted pom.xml with all necessary Spring dependencies\r\n* Setup web.xml to register the Spring Dispatcher Servlet\r\n* Setup Spring application context files, controller setup files, mappings, annotations, etc\r\n* Come up with all sorts of boilerplate code to just be able to simulate a web request to a web controller with a proper request and response\r\n\r\nAlthough eventually this would work, it would require a lot of effort, especially on the testing front. I'm sure you've been there, googling ways to test a controller in an integration test with a proper request and response. \r\n\r\nNow, imagine that your Spring MVC is contained in a Maven jar project, that your controller is a simple Java class with few annotations and that you can exercise it through a fully flagged servlet container like Tomcat or Jetty without having to start anything before your test or shutdown anything after the test has completed.\r\n\r\nThis represents the holy-grail of web applications speed of development and testing consistency.  \r\n\r\n## Maven setup - it's that easy\r\n\r\nFirst we define the parent project to be spring-boot-starter-parent. This project defines many required dependencies and boilerplate configuration so that we don't have to do the hard work. \r\n\r\n```\r\n<groupId>uk.co.jemos.experiments.multimodule</groupId>\r\n  <artifactId>spring-boot-web</artifactId>\r\n  <version>1.0-SNAPSHOT</version>\r\n  <packaging>jar</packaging>\r\n  <name>spring-boot-web</name>\r\n\r\n  <parent>\r\n    <groupId>org.springframework.boot</groupId>\r\n    <artifactId>spring-boot-starter-parent</artifactId>\r\n    <version>1.2.3.RELEASE</version>\r\n  </parent>\r\n\r\n  <url>http://mtedone.github.io/spring-boot-web/</url>\r\n\r\n  <properties>\r\n    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\r\n    <spring.boot.version>1.2.3.RELEASE</spring.boot.version>\r\n  </properties>\r\n```\r\n\r\nWe then define the Spring Boot maven plugin and (in my case), Java 8 compiler:\r\n\r\n```\r\n<plugin>\r\n        <groupId>org.springframework.boot</groupId>\r\n        <artifactId>spring-boot-maven-plugin</artifactId>\r\n      </plugin>\r\n      <plugin>\r\n        <groupId>org.apache.maven.plugins</groupId>\r\n        <artifactId>maven-compiler-plugin</artifactId>\r\n        <version>3.3</version>\r\n        <configuration>\r\n          <source>1.8</source>\r\n          <target>1.8</target>\r\n        </configuration>\r\n      </plugin>\r\n```\r\n\r\n### Approach to unit and integration testing\r\n\r\nFor testing, I took the following approach: \r\n\r\n* I want all unit tests to run by default when executing mvn goals from the command line\r\n* I want all integration tests to run only when specifying a particular Maven profile. This is useful for Continuous Integration environments (e.g. Jenkins) where one might want to run unit tests at each commit and integration tests maybe nightly or a bit less frequently. \r\n\r\nFor unit tests to execute I define the Maven surefire plugin:\r\n\r\n```\r\n<plugin>\r\n            <groupId>org.apache.maven.plugins</groupId>\r\n            <artifactId>maven-surefire-plugin</artifactId>\r\n            <version>2.18.1</version>\r\n            <configuration>\r\n                <skip>false</skip>\r\n            </configuration>\r\n            <executions>\r\n                <execution>\r\n                    <id>surefire-it</id>\r\n                    <phase>test</phase>\r\n                    <goals>\r\n                        <goal>test</goal>\r\n                    </goals>\r\n                    <configuration>\r\n                        <skip>false</skip>\r\n                    </configuration>\r\n                </execution>\r\n            </executions>\r\n        </plugin>\r\n```\r\n\r\nFor integration tests I specify a dedicated profiles which excludes the unit tests executing only the integration tests through the Maven failsafe plugin. I have also to exclude the execution of unit tests and I achieve this through the Maven surefire plugin configuration specifically stating that I don't want any unit tests to run while executing integration tests.\r\n\r\n```\r\n<profiles>\r\n    <profile>\r\n      <id>integration-tests</id>\r\n      <build>\r\n        <plugins>\r\n            <plugin>\r\n                <groupId>org.apache.maven.plugins</groupId>\r\n                <artifactId>maven-surefire-plugin</artifactId>\r\n                <configuration>\r\n                    <skip>true</skip>\r\n                </configuration>\r\n                <executions>\r\n                    <execution>\r\n                        <id>surefire-it</id>\r\n                        <phase>integration-test</phase>\r\n                        <goals>\r\n                            <goal>test</goal>\r\n                        </goals>\r\n                        <configuration>\r\n                            <skip>true</skip>\r\n                        </configuration>\r\n                    </execution>\r\n                </executions>\r\n            </plugin>\r\n          <plugin>\r\n            <groupId>org.apache.maven.plugins</groupId>\r\n            <artifactId>maven-failsafe-plugin</artifactId>\r\n            <version>2.18.1</version>\r\n            <executions>\r\n              <execution>\r\n                <goals>\r\n                  <goal>integration-test</goal>\r\n                  <goal>verify</goal>\r\n                </goals>\r\n              </execution>\r\n            </executions>\r\n          </plugin>\r\n        </plugins>\r\n      </build>\r\n    </profile>\r\n  </profiles>\r\n```\r\n\r\nTo execute unit tests I can simply type: \r\n\r\n```\r\nmvn clean test\r\n```\r\n\r\nOr \r\n\r\n```\r\nmvn clean install\r\n```\r\n\r\nTo execute integration tests I can simply type: \r\n\r\n```\r\nmvn clean verify -Pintegration-tests\r\n```\r\n\r\n### Defining the Spring boot dependencies for Spring MVC and Spring Test\r\n\r\nThe dependency section to have a fully flagged Spring MVC application setup is easy (Junit is not necessary for Spring boot but required for JUnit unit and integration testing):\r\n\r\n```\r\n<dependencies>\r\n    <dependency>\r\n      <groupId>junit</groupId>\r\n      <artifactId>junit</artifactId>\r\n      <version>4.12</version>\r\n      <scope>test</scope>\r\n    </dependency>\r\n    <dependency>\r\n      <groupId>org.springframework.boot</groupId>\r\n      <artifactId>spring-boot-starter-web</artifactId>\r\n    </dependency>\r\n    <dependency>\r\n      <groupId>org.springframework.boot</groupId>\r\n      <artifactId>spring-boot-starter-test</artifactId>\r\n      <scope>test</scope>\r\n    </dependency>\r\n  </dependencies>\r\n```\r\n\r\n## The controller\r\n\r\nThe controller is a basic Java class with a main method. The main method is not necessary for it to work but it's useful for running the Spring MVC application as a jar file (e.g. java -jar <appname>). In Spring terms, this is a fully flagged Spring MVC controller. Thanks to the @RestController and @EnableAutoConfiguration annotations, Spring boot will do all the plumbing for us.\r\n\r\n```\r\npackage uk.co.jemos.experiments.spring.boot;\r\n\r\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n/**\r\n * Created by tedonema on 09/05/2015.\r\n */\r\n@RestController\r\n@EnableAutoConfiguration\r\npublic class Example {\r\n\r\n    @RequestMapping(\"/\")\r\n    String home() {\r\n        return \"Hello World\";\r\n    }\r\n\r\n    /* --Uncomment this method to run this as a standalone jar file from the command line\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(Example.class, args);\r\n    }\r\n    */\r\n}\r\n```\r\n\r\n## The unit test\r\n\r\n```\r\npackage uk.co.jemos.experiments.spring.boot.test.unit;\r\n\r\nimport org.junit.Before;\r\nimport org.junit.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.boot.test.SpringApplicationConfiguration;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.mock.web.MockServletContext;\r\nimport org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\r\nimport org.springframework.test.context.web.WebAppConfiguration;\r\nimport org.springframework.test.web.servlet.MockMvc;\r\nimport org.springframework.test.web.servlet.request.MockMvcRequestBuilders;\r\nimport org.springframework.test.web.servlet.setup.MockMvcBuilders;\r\nimport uk.co.jemos.experiments.spring.boot.Example;\r\n\r\nimport static org.hamcrest.Matchers.equalTo;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.content;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\r\n\r\n/**\r\n * Created by tedonema on 09/05/2015.\r\n */\r\n@RunWith(SpringJUnit4ClassRunner.class)\r\n@SpringApplicationConfiguration(classes = MockServletContext.class)\r\n@WebAppConfiguration\r\npublic class ExampleUnitTest {\r\n\r\n    private static final Logger LOG = LoggerFactory.getLogger(ExampleUnitTest.class);\r\n\r\n    private MockMvc mvc;\r\n\r\n    @Before\r\n    public void setup() throws Exception {\r\n        mvc = MockMvcBuilders.standaloneSetup(new Example()).build();\r\n    }\r\n\r\n    @Test\r\n    public void testExample() throws Exception {\r\n        LOG.info(\"Starting\");\r\n        mvc.perform(MockMvcRequestBuilders.get(\"/\").accept(MediaType.ALL))\r\n                .andExpect(status().isOk())\r\n                .andExpect(content().string(equalTo(\"Hello World\")));\r\n        LOG.info(\"Ending\");\r\n    }\r\n}\r\n```\r\n\r\nRunning the unit test gives the following output:\r\n\r\n```\r\n/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/bin/java -ea -Didea.launcher.port=7532 \"-Didea.launcher.bin.path=/Applications/IntelliJ IDEA 14.app/Contents/bin\" -Dfile.encoding=UTF-8 -classpath \"/Applications/IntelliJ IDEA 14.app/Contents/lib/idea_rt.jar:/Applications/IntelliJ IDEA 14.app/Contents/plugins/junit/lib/junit-rt.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/lib/ant-javafx.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/lib/dt.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/lib/javafx-mx.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/lib/jconsole.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/lib/packager.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/lib/sa-jdi.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/lib/tools.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/jre/lib/charsets.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/jre/lib/deploy.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/jre/lib/javaws.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/jre/lib/jce.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/jre/lib/jfr.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/jre/lib/jfxswt.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/jre/lib/jsse.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/jre/lib/management-agent.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/jre/lib/plugin.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/jre/lib/resources.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/jre/lib/rt.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/jre/lib/ext/cldrdata.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/jre/lib/ext/dnsns.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/jre/lib/ext/jfxrt.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/jre/lib/ext/localedata.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/jre/lib/ext/nashorn.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/jre/lib/ext/sunec.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/jre/lib/ext/sunjce_provider.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/jre/lib/ext/sunpkcs11.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/jre/lib/ext/zipfs.jar:/Users/tedonema/dev/spring-boot-web/target/test-classes:/Users/tedonema/dev/spring-boot-web/target/classes:/Users/tedonema/workspaces/mvn-repo/junit/junit/4.12/junit-4.12.jar:/Users/tedonema/workspaces/mvn-repo/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar:/Users/tedonema/workspaces/mvn-repo/org/springframework/boot/spring-boot-starter-web/1.2.3.RELEASE/spring-boot-starter-web-1.2.3.RELEASE.jar:/Users/tedonema/workspaces/mvn-repo/org/springframework/boot/spring-boot-starter/1.2.3.RELEASE/spring-boot-starter-1.2.3.RELEASE.jar:/Users/tedonema/workspaces/mvn-repo/org/springframework/boot/spring-boot/1.2.3.RELEASE/spring-boot-1.2.3.RELEASE.jar:/Users/tedonema/workspaces/mvn-repo/org/springframework/boot/spring-boot-autoconfigure/1.2.3.RELEASE/spring-boot-autoconfigure-1.2.3.RELEASE.jar:/Users/tedonema/workspaces/mvn-repo/org/springframework/boot/spring-boot-starter-logging/1.2.3.RELEASE/spring-boot-starter-logging-1.2.3.RELEASE.jar:/Users/tedonema/workspaces/mvn-repo/org/slf4j/jcl-over-slf4j/1.7.11/jcl-over-slf4j-1.7.11.jar:/Users/tedonema/workspaces/mvn-repo/org/slf4j/slf4j-api/1.7.11/slf4j-api-1.7.11.jar:/Users/tedonema/workspaces/mvn-repo/org/slf4j/jul-to-slf4j/1.7.11/jul-to-slf4j-1.7.11.jar:/Users/tedonema/workspaces/mvn-repo/org/slf4j/log4j-over-slf4j/1.7.11/log4j-over-slf4j-1.7.11.jar:/Users/tedonema/workspaces/mvn-repo/ch/qos/logback/logback-classic/1.1.3/logback-classic-1.1.3.jar:/Users/tedonema/workspaces/mvn-repo/ch/qos/logback/logback-core/1.1.3/logback-core-1.1.3.jar:/Users/tedonema/workspaces/mvn-repo/org/yaml/snakeyaml/1.14/snakeyaml-1.14.jar:/Users/tedonema/workspaces/mvn-repo/org/springframework/boot/spring-boot-starter-tomcat/1.2.3.RELEASE/spring-boot-starter-tomcat-1.2.3.RELEASE.jar:/Users/tedonema/workspaces/mvn-repo/org/apache/tomcat/embed/tomcat-embed-core/8.0.20/tomcat-embed-core-8.0.20.jar:/Users/tedonema/workspaces/mvn-repo/org/apache/tomcat/embed/tomcat-embed-el/8.0.20/tomcat-embed-el-8.0.20.jar:/Users/tedonema/workspaces/mvn-repo/org/apache/tomcat/embed/tomcat-embed-logging-juli/8.0.20/tomcat-embed-logging-juli-8.0.20.jar:/Users/tedonema/workspaces/mvn-repo/org/apache/tomcat/embed/tomcat-embed-websocket/8.0.20/tomcat-embed-websocket-8.0.20.jar:/Users/tedonema/workspaces/mvn-repo/com/fasterxml/jackson/core/jackson-databind/2.4.5/jackson-databind-2.4.5.jar:/Users/tedonema/workspaces/mvn-repo/com/fasterxml/jackson/core/jackson-annotations/2.4.5/jackson-annotations-2.4.5.jar:/Users/tedonema/workspaces/mvn-repo/com/fasterxml/jackson/core/jackson-core/2.4.5/jackson-core-2.4.5.jar:/Users/tedonema/workspaces/mvn-repo/org/hibernate/hibernate-validator/5.1.3.Final/hibernate-validator-5.1.3.Final.jar:/Users/tedonema/workspaces/mvn-repo/javax/validation/validation-api/1.1.0.Final/validation-api-1.1.0.Final.jar:/Users/tedonema/workspaces/mvn-repo/org/jboss/logging/jboss-logging/3.1.3.GA/jboss-logging-3.1.3.GA.jar:/Users/tedonema/workspaces/mvn-repo/com/fasterxml/classmate/1.0.0/classmate-1.0.0.jar:/Users/tedonema/workspaces/mvn-repo/org/springframework/spring-core/4.1.6.RELEASE/spring-core-4.1.6.RELEASE.jar:/Users/tedonema/workspaces/mvn-repo/org/springframework/spring-web/4.1.6.RELEASE/spring-web-4.1.6.RELEASE.jar:/Users/tedonema/workspaces/mvn-repo/org/springframework/spring-aop/4.1.6.RELEASE/spring-aop-4.1.6.RELEASE.jar:/Users/tedonema/workspaces/mvn-repo/aopalliance/aopalliance/1.0/aopalliance-1.0.jar:/Users/tedonema/workspaces/mvn-repo/org/springframework/spring-beans/4.1.6.RELEASE/spring-beans-4.1.6.RELEASE.jar:/Users/tedonema/workspaces/mvn-repo/org/springframework/spring-context/4.1.6.RELEASE/spring-context-4.1.6.RELEASE.jar:/Users/tedonema/workspaces/mvn-repo/org/springframework/spring-webmvc/4.1.6.RELEASE/spring-webmvc-4.1.6.RELEASE.jar:/Users/tedonema/workspaces/mvn-repo/org/springframework/spring-expression/4.1.6.RELEASE/spring-expression-4.1.6.RELEASE.jar:/Users/tedonema/workspaces/mvn-repo/org/springframework/boot/spring-boot-starter-test/1.2.3.RELEASE/spring-boot-starter-test-1.2.3.RELEASE.jar:/Users/tedonema/workspaces/mvn-repo/org/mockito/mockito-core/1.10.19/mockito-core-1.10.19.jar:/Users/tedonema/workspaces/mvn-repo/org/objenesis/objenesis/2.1/objenesis-2.1.jar:/Users/tedonema/workspaces/mvn-repo/org/hamcrest/hamcrest-library/1.3/hamcrest-library-1.3.jar:/Users/tedonema/workspaces/mvn-repo/org/springframework/spring-test/4.1.6.RELEASE/spring-test-4.1.6.RELEASE.jar\" com.intellij.rt.execution.application.AppMain com.intellij.rt.execution.junit.JUnitStarter -ideVersion5 uk.co.jemos.experiments.spring.boot.test.unit.ExampleUnitTest\r\n14:57:13.807 [main] DEBUG o.s.t.c.j.SpringJUnit4ClassRunner - SpringJUnit4ClassRunner constructor called with [class uk.co.jemos.experiments.spring.boot.test.unit.ExampleUnitTest].\r\n14:57:13.822 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating TestContextBootstrapper from class [org.springframework.test.context.web.WebTestContextBootstrapper]\r\n14:57:13.851 [main] DEBUG o.s.t.c.w.WebTestContextBootstrapper - Found explicit ContextLoader class [org.springframework.boot.test.SpringApplicationContextLoader] for context configuration attributes [ContextConfigurationAttributes@4520ebad declaringClass = 'uk.co.jemos.experiments.spring.boot.test.unit.ExampleUnitTest', classes = '{class org.springframework.mock.web.MockServletContext}', locations = '{}', inheritLocations = true, initializers = '{}', inheritInitializers = true, name = [null], contextLoaderClass = 'org.springframework.boot.test.SpringApplicationContextLoader']\r\n14:57:13.861 [main] DEBUG o.s.t.c.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [uk.co.jemos.experiments.spring.boot.test.unit.ExampleUnitTest]\r\n14:57:13.869 [main] DEBUG o.s.t.c.w.WebTestContextBootstrapper - @TestExecutionListeners is not present for class [uk.co.jemos.experiments.spring.boot.test.unit.ExampleUnitTest]: using defaults.\r\n14:57:13.884 [main] INFO  o.s.t.c.w.WebTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]\r\n14:57:13.892 [main] INFO  o.s.t.c.w.WebTestContextBootstrapper - Could not instantiate TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/transaction/interceptor/TransactionAttribute]\r\n14:57:13.893 [main] INFO  o.s.t.c.w.WebTestContextBootstrapper - Could not instantiate TestExecutionListener [org.springframework.test.context.transaction.TransactionalTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/transaction/interceptor/TransactionAttributeSource]\r\n14:57:13.895 [main] INFO  o.s.t.c.w.WebTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@cb644e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@13805618, org.springframework.test.context.support.DirtiesContextTestExecutionListener@56ef9176]\r\n14:57:13.898 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [uk.co.jemos.experiments.spring.boot.test.unit.ExampleUnitTest]\r\n14:57:13.898 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [uk.co.jemos.experiments.spring.boot.test.unit.ExampleUnitTest]\r\n2015-05-09 14:57:14.637  INFO 35385 --- [           main] ilder$StaticRequestMappingHandlerMapping : Mapped \"{[/],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}\" onto java.lang.String uk.co.jemos.experiments.spring.boot.Example.home()\r\n2015-05-09 14:57:15.003  INFO 35385 --- [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@305b7c14\r\n2015-05-09 14:57:15.052  INFO 35385 --- [           main] o.s.mock.web.MockServletContext          : Initializing Spring FrameworkServlet ''\r\n2015-05-09 14:57:15.053  INFO 35385 --- [           main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started\r\n2015-05-09 14:57:15.055  INFO 35385 --- [           main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization completed in 2 ms\r\n2015-05-09 14:57:15.056  INFO 35385 --- [           main] u.c.j.e.s.b.test.unit.ExampleUnitTest    : Starting\r\n14:57:13.919 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [uk.co.jemos.experiments.spring.boot.test.unit.ExampleUnitTest]\r\n14:57:13.919 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [uk.co.jemos.experiments.spring.boot.test.unit.ExampleUnitTest]\r\n14:57:13.921 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [uk.co.jemos.experiments.spring.boot.test.unit.ExampleUnitTest]\r\n14:57:13.921 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [uk.co.jemos.experiments.spring.boot.test.unit.ExampleUnitTest]\r\n14:57:13.923 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [uk.co.jemos.experiments.spring.boot.test.unit.ExampleUnitTest]\r\n14:57:13.923 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [uk.co.jemos.experiments.spring.boot.test.unit.ExampleUnitTest]\r\n14:57:13.925 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [uk.co.jemos.experiments.spring.boot.test.unit.ExampleUnitTest]\r\n14:57:13.925 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [uk.co.jemos.experiments.spring.boot.test.unit.ExampleUnitTest]\r\n14:57:14.010 [main] DEBUG o.s.core.env.StandardEnvironment - Adding [systemProperties] PropertySource with lowest search precedence\r\n14:57:14.012 [main] DEBUG o.s.core.env.StandardEnvironment - Adding [systemEnvironment] PropertySource with lowest search precedence\r\n14:57:14.012 [main] DEBUG o.s.core.env.StandardEnvironment - Initialized StandardEnvironment with PropertySources [systemProperties,systemEnvironment]\r\n14:57:14.015 [main] DEBUG o.s.core.env.StandardEnvironment - Adding [integrationTest] PropertySource with search precedence immediately lower than [systemEnvironment]\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::        (v1.2.3.RELEASE)\r\n\r\n2015-05-09 14:57:14.239  INFO 35385 --- [           main] c.i.rt.execution.junit.JUnitStarter      : Starting JUnitStarter on marcos-imac-3.local with PID 35385 (started by tedonema in /Users/tedonema/dev/spring-boot-web)\r\n2015-05-09 14:57:14.296  INFO 35385 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@2a32de6c: startup date [Sat May 09 14:57:14 BST 2015]; root of context hierarchy\r\n2015-05-09 14:57:14.396  INFO 35385 --- [           main] c.i.rt.execution.junit.JUnitStarter      : Started JUnitStarter in 0.358 seconds (JVM running for 1.094)\r\n2015-05-09 14:57:15.114  INFO 35385 --- [           main] u.c.j.e.s.b.test.unit.ExampleUnitTest    : Ending\r\n2015-05-09 14:57:15.116  INFO 35385 --- [       Thread-1] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@2a32de6c: startup date [Sat May 09 14:57:14 BST 2015]; root of context hierarchy\r\n\r\nProcess finished with exit code 0\r\n\r\n```\r\n\r\n## The integration test\r\n\r\nThe integration test is a bit more involved, as we would expect, because here we're actually sending an http request to our controller and analysing the response. \r\n\r\nThe  \r\n\r\n```\r\n@IntegrationTest(\"{server.port=0}\")\r\n```\r\n\r\nannotation will instruct Spring to run the controller in the first available port and the following annotation:\r\n\r\n```\r\n@Value(\"${local.server.port}\")\r\nprivate int port;\r\n```\r\n\r\nSets the port attribute with the value of the port found by the @IntegrationTest annotation.\r\n\r\n```\r\npackage uk.co.jemos.experiments.spring.boot.test.integration;\r\n\r\nimport org.junit.Before;\r\nimport org.junit.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.boot.test.IntegrationTest;\r\nimport org.springframework.boot.test.SpringApplicationConfiguration;\r\nimport org.springframework.boot.test.TestRestTemplate;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\r\nimport org.springframework.test.context.web.WebAppConfiguration;\r\nimport org.springframework.test.web.servlet.MockMvc;\r\nimport org.springframework.web.client.RestTemplate;\r\nimport uk.co.jemos.experiments.spring.boot.Example;\r\n\r\nimport java.net.URL;\r\n\r\nimport static org.hamcrest.Matchers.equalTo;\r\nimport static org.junit.Assert.assertThat;\r\n\r\n/**\r\n * Created by tedonema on 09/05/2015.\r\n */\r\n@RunWith(SpringJUnit4ClassRunner.class)\r\n@SpringApplicationConfiguration(classes = Example.class)\r\n@WebAppConfiguration\r\n@IntegrationTest(\"{server.port=0}\")\r\npublic class ExampleIT {\r\n\r\n    private static final Logger LOG = LoggerFactory.getLogger(ExampleIT.class);\r\n\r\n    @Value(\"${local.server.port}\")\r\n    private int port;\r\n\r\n    private URL base;\r\n    private RestTemplate template;\r\n\r\n    private MockMvc mvc;\r\n\r\n    @Before\r\n    public void setup() throws Exception {\r\n        this.base = new URL(\"http://localhost:\" + port + \"/\");\r\n        template = new TestRestTemplate();\r\n    }\r\n\r\n    @Test\r\n    public void testExample() throws Exception {\r\n        LOG.info(\"Starting\");\r\n        ResponseEntity<String> response = template.getForEntity(base.toString(), String.class);\r\n        assertThat(response.getBody(), equalTo(\"Hello World\"));\r\n        LOG.info(\"Ending\");\r\n    }\r\n}\r\n```\r\n\r\nRunning the integration test gives the following output:\r\n\r\n```\r\n/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/bin/java -ea -Didea.launcher.port=7532 \"-Didea.launcher.bin.path=/Applications/IntelliJ IDEA 14.app/Contents/bin\" -Dfile.encoding=UTF-8 -classpath \"/Applications/IntelliJ IDEA 14.app/Contents/lib/idea_rt.jar:/Applications/IntelliJ IDEA 14.app/Contents/plugins/junit/lib/junit-rt.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/lib/ant-javafx.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/lib/dt.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/lib/javafx-mx.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/lib/jconsole.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/lib/packager.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/lib/sa-jdi.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/lib/tools.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/jre/lib/charsets.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/jre/lib/deploy.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/jre/lib/javaws.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/jre/lib/jce.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/jre/lib/jfr.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/jre/lib/jfxswt.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/jre/lib/jsse.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/jre/lib/management-agent.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/jre/lib/plugin.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/jre/lib/resources.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/jre/lib/rt.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/jre/lib/ext/cldrdata.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/jre/lib/ext/dnsns.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/jre/lib/ext/jfxrt.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/jre/lib/ext/localedata.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/jre/lib/ext/nashorn.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/jre/lib/ext/sunec.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/jre/lib/ext/sunjce_provider.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/jre/lib/ext/sunpkcs11.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/jre/lib/ext/zipfs.jar:/Users/tedonema/dev/spring-boot-web/target/test-classes:/Users/tedonema/dev/spring-boot-web/target/classes:/Users/tedonema/workspaces/mvn-repo/junit/junit/4.12/junit-4.12.jar:/Users/tedonema/workspaces/mvn-repo/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar:/Users/tedonema/workspaces/mvn-repo/org/springframework/boot/spring-boot-starter-web/1.2.3.RELEASE/spring-boot-starter-web-1.2.3.RELEASE.jar:/Users/tedonema/workspaces/mvn-repo/org/springframework/boot/spring-boot-starter/1.2.3.RELEASE/spring-boot-starter-1.2.3.RELEASE.jar:/Users/tedonema/workspaces/mvn-repo/org/springframework/boot/spring-boot/1.2.3.RELEASE/spring-boot-1.2.3.RELEASE.jar:/Users/tedonema/workspaces/mvn-repo/org/springframework/boot/spring-boot-autoconfigure/1.2.3.RELEASE/spring-boot-autoconfigure-1.2.3.RELEASE.jar:/Users/tedonema/workspaces/mvn-repo/org/springframework/boot/spring-boot-starter-logging/1.2.3.RELEASE/spring-boot-starter-logging-1.2.3.RELEASE.jar:/Users/tedonema/workspaces/mvn-repo/org/slf4j/jcl-over-slf4j/1.7.11/jcl-over-slf4j-1.7.11.jar:/Users/tedonema/workspaces/mvn-repo/org/slf4j/slf4j-api/1.7.11/slf4j-api-1.7.11.jar:/Users/tedonema/workspaces/mvn-repo/org/slf4j/jul-to-slf4j/1.7.11/jul-to-slf4j-1.7.11.jar:/Users/tedonema/workspaces/mvn-repo/org/slf4j/log4j-over-slf4j/1.7.11/log4j-over-slf4j-1.7.11.jar:/Users/tedonema/workspaces/mvn-repo/ch/qos/logback/logback-classic/1.1.3/logback-classic-1.1.3.jar:/Users/tedonema/workspaces/mvn-repo/ch/qos/logback/logback-core/1.1.3/logback-core-1.1.3.jar:/Users/tedonema/workspaces/mvn-repo/org/yaml/snakeyaml/1.14/snakeyaml-1.14.jar:/Users/tedonema/workspaces/mvn-repo/org/springframework/boot/spring-boot-starter-tomcat/1.2.3.RELEASE/spring-boot-starter-tomcat-1.2.3.RELEASE.jar:/Users/tedonema/workspaces/mvn-repo/org/apache/tomcat/embed/tomcat-embed-core/8.0.20/tomcat-embed-core-8.0.20.jar:/Users/tedonema/workspaces/mvn-repo/org/apache/tomcat/embed/tomcat-embed-el/8.0.20/tomcat-embed-el-8.0.20.jar:/Users/tedonema/workspaces/mvn-repo/org/apache/tomcat/embed/tomcat-embed-logging-juli/8.0.20/tomcat-embed-logging-juli-8.0.20.jar:/Users/tedonema/workspaces/mvn-repo/org/apache/tomcat/embed/tomcat-embed-websocket/8.0.20/tomcat-embed-websocket-8.0.20.jar:/Users/tedonema/workspaces/mvn-repo/com/fasterxml/jackson/core/jackson-databind/2.4.5/jackson-databind-2.4.5.jar:/Users/tedonema/workspaces/mvn-repo/com/fasterxml/jackson/core/jackson-annotations/2.4.5/jackson-annotations-2.4.5.jar:/Users/tedonema/workspaces/mvn-repo/com/fasterxml/jackson/core/jackson-core/2.4.5/jackson-core-2.4.5.jar:/Users/tedonema/workspaces/mvn-repo/org/hibernate/hibernate-validator/5.1.3.Final/hibernate-validator-5.1.3.Final.jar:/Users/tedonema/workspaces/mvn-repo/javax/validation/validation-api/1.1.0.Final/validation-api-1.1.0.Final.jar:/Users/tedonema/workspaces/mvn-repo/org/jboss/logging/jboss-logging/3.1.3.GA/jboss-logging-3.1.3.GA.jar:/Users/tedonema/workspaces/mvn-repo/com/fasterxml/classmate/1.0.0/classmate-1.0.0.jar:/Users/tedonema/workspaces/mvn-repo/org/springframework/spring-core/4.1.6.RELEASE/spring-core-4.1.6.RELEASE.jar:/Users/tedonema/workspaces/mvn-repo/org/springframework/spring-web/4.1.6.RELEASE/spring-web-4.1.6.RELEASE.jar:/Users/tedonema/workspaces/mvn-repo/org/springframework/spring-aop/4.1.6.RELEASE/spring-aop-4.1.6.RELEASE.jar:/Users/tedonema/workspaces/mvn-repo/aopalliance/aopalliance/1.0/aopalliance-1.0.jar:/Users/tedonema/workspaces/mvn-repo/org/springframework/spring-beans/4.1.6.RELEASE/spring-beans-4.1.6.RELEASE.jar:/Users/tedonema/workspaces/mvn-repo/org/springframework/spring-context/4.1.6.RELEASE/spring-context-4.1.6.RELEASE.jar:/Users/tedonema/workspaces/mvn-repo/org/springframework/spring-webmvc/4.1.6.RELEASE/spring-webmvc-4.1.6.RELEASE.jar:/Users/tedonema/workspaces/mvn-repo/org/springframework/spring-expression/4.1.6.RELEASE/spring-expression-4.1.6.RELEASE.jar:/Users/tedonema/workspaces/mvn-repo/org/springframework/boot/spring-boot-starter-test/1.2.3.RELEASE/spring-boot-starter-test-1.2.3.RELEASE.jar:/Users/tedonema/workspaces/mvn-repo/org/mockito/mockito-core/1.10.19/mockito-core-1.10.19.jar:/Users/tedonema/workspaces/mvn-repo/org/objenesis/objenesis/2.1/objenesis-2.1.jar:/Users/tedonema/workspaces/mvn-repo/org/hamcrest/hamcrest-library/1.3/hamcrest-library-1.3.jar:/Users/tedonema/workspaces/mvn-repo/org/springframework/spring-test/4.1.6.RELEASE/spring-test-4.1.6.RELEASE.jar\" com.intellij.rt.execution.application.AppMain com.intellij.rt.execution.junit.JUnitStarter -ideVersion5 uk.co.jemos.experiments.spring.boot.test.integration.ExampleIT\r\n14:55:42.772 [main] DEBUG o.s.t.c.j.SpringJUnit4ClassRunner - SpringJUnit4ClassRunner constructor called with [class uk.co.jemos.experiments.spring.boot.test.integration.ExampleIT].\r\n14:55:42.789 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating TestContextBootstrapper from class [org.springframework.test.context.web.WebTestContextBootstrapper]\r\n14:55:42.818 [main] DEBUG o.s.t.c.w.WebTestContextBootstrapper - Found explicit ContextLoader class [org.springframework.boot.test.SpringApplicationContextLoader] for context configuration attributes [ContextConfigurationAttributes@59fa1d9b declaringClass = 'uk.co.jemos.experiments.spring.boot.test.integration.ExampleIT', classes = '{class uk.co.jemos.experiments.spring.boot.Example}', locations = '{}', inheritLocations = true, initializers = '{}', inheritInitializers = true, name = [null], contextLoaderClass = 'org.springframework.boot.test.SpringApplicationContextLoader']\r\n14:55:42.833 [main] DEBUG o.s.t.c.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [uk.co.jemos.experiments.spring.boot.test.integration.ExampleIT]\r\n14:55:42.855 [main] INFO  o.s.t.c.w.WebTestContextBootstrapper - Could not instantiate TestExecutionListener [org.springframework.test.context.transaction.TransactionalTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/transaction/interceptor/TransactionAttributeSource]\r\n14:55:42.859 [main] INFO  o.s.t.c.w.WebTestContextBootstrapper - Could not instantiate TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/transaction/interceptor/TransactionAttribute]\r\n14:55:42.859 [main] INFO  o.s.t.c.w.WebTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.boot.test.IntegrationTestPropertiesListener@3c0ecd4b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@14bf9759, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5f341870]\r\n14:55:42.863 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [uk.co.jemos.experiments.spring.boot.test.integration.ExampleIT]\r\n14:55:42.864 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [uk.co.jemos.experiments.spring.boot.test.integration.ExampleIT]\r\n14:55:42.882 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [uk.co.jemos.experiments.spring.boot.test.integration.ExampleIT]\r\n14:55:42.882 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [uk.co.jemos.experiments.spring.boot.test.integration.ExampleIT]\r\n14:55:42.884 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [uk.co.jemos.experiments.spring.boot.test.integration.ExampleIT]\r\n14:55:42.885 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [uk.co.jemos.experiments.spring.boot.test.integration.ExampleIT]\r\n14:55:42.886 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [uk.co.jemos.experiments.spring.boot.test.integration.ExampleIT]\r\n14:55:42.886 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [uk.co.jemos.experiments.spring.boot.test.integration.ExampleIT]\r\n14:55:42.888 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [uk.co.jemos.experiments.spring.boot.test.integration.ExampleIT]\r\n14:55:42.889 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [uk.co.jemos.experiments.spring.boot.test.integration.ExampleIT]\r\n14:55:42.893 [main] DEBUG o.s.test.util.ReflectionTestUtils - Getting field [mergedContextConfiguration] from target [[DefaultTestContext@544fe44c testClass = ExampleIT, testInstance = uk.co.jemos.experiments.spring.boot.test.integration.ExampleIT@31610302, testMethod = [null], testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@71318ec4 testClass = ExampleIT, locations = '{}', classes = '{class uk.co.jemos.experiments.spring.boot.Example}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.SpringApplicationContextLoader', parent = [null]]]]\r\n14:55:42.895 [main] DEBUG o.s.test.util.ReflectionTestUtils - Setting field [propertySourceProperties] of type [null] on target [[WebMergedContextConfiguration@71318ec4 testClass = ExampleIT, locations = '{}', classes = '{class uk.co.jemos.experiments.spring.boot.Example}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.SpringApplicationContextLoader', parent = [null]]] to value [[Ljava.lang.String;@66480dd7]\r\n14:55:42.896 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test context [[DefaultTestContext@544fe44c testClass = ExampleIT, testInstance = uk.co.jemos.experiments.spring.boot.test.integration.ExampleIT@31610302, testMethod = [null], testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@71318ec4 testClass = ExampleIT, locations = '{}', classes = '{class uk.co.jemos.experiments.spring.boot.Example}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{{server.port=0}, org.springframework.boot.test.IntegrationTest=true}', resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.SpringApplicationContextLoader', parent = [null]]]].\r\n14:55:43.046 [main] DEBUG o.s.core.env.StandardEnvironment - Adding [systemProperties] PropertySource with lowest search precedence\r\n14:55:43.055 [main] DEBUG o.s.core.env.StandardEnvironment - Adding [systemEnvironment] PropertySource with lowest search precedence\r\n14:55:43.056 [main] DEBUG o.s.core.env.StandardEnvironment - Initialized StandardEnvironment with PropertySources [systemProperties,systemEnvironment]\r\n14:55:43.056 [main] DEBUG o.s.core.env.StandardEnvironment - Adding [integrationTest] PropertySource with search precedence immediately lower than [systemEnvironment]\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::        (v1.2.3.RELEASE)\r\n\r\n2015-05-09 14:55:43.489  INFO 35350 --- [           main] c.i.rt.execution.junit.JUnitStarter      : Starting JUnitStarter on marcos-imac-3.local with PID 35350 (started by tedonema in /Users/tedonema/dev/spring-boot-web)\r\n2015-05-09 14:55:43.562  INFO 35350 --- [           main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@f8c1ddd: startup date [Sat May 09 14:55:43 BST 2015]; root of context hierarchy\r\n2015-05-09 14:55:44.535  INFO 35350 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'beanNameViewResolver': replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.web.ErrorMvcAutoConfiguration$WhitelabelErrorViewConfiguration; factoryMethodName=beanNameViewResolver; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/web/ErrorMvcAutoConfiguration$WhitelabelErrorViewConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.web.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter; factoryMethodName=beanNameViewResolver; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/web/WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter.class]]\r\n2015-05-09 14:55:45.367  INFO 35350 --- [           main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8181 (http)\r\n2015-05-09 14:55:45.605  INFO 35350 --- [           main] o.apache.catalina.core.StandardService   : Starting service Tomcat\r\n2015-05-09 14:55:45.607  INFO 35350 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.0.20\r\n2015-05-09 14:55:45.705  INFO 35350 --- [ost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2015-05-09 14:55:45.707  INFO 35350 --- [ost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2147 ms\r\n2015-05-09 14:55:46.423  INFO 35350 --- [ost-startStop-1] o.s.b.c.e.ServletRegistrationBean        : Mapping servlet: 'dispatcherServlet' to [/]\r\n2015-05-09 14:55:46.430  INFO 35350 --- [ost-startStop-1] o.s.b.c.embedded.FilterRegistrationBean  : Mapping filter: 'characterEncodingFilter' to: [/*]\r\n2015-05-09 14:55:46.431  INFO 35350 --- [ost-startStop-1] o.s.b.c.embedded.FilterRegistrationBean  : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]\r\n2015-05-09 14:55:46.680  INFO 35350 --- [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@f8c1ddd: startup date [Sat May 09 14:55:43 BST 2015]; root of context hierarchy\r\n2015-05-09 14:55:46.732  INFO 35350 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped \"{[/],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}\" onto java.lang.String uk.co.jemos.experiments.spring.boot.Example.home()\r\n2015-05-09 14:55:46.734  INFO 35350 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped \"{[/error],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}\" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)\r\n2015-05-09 14:55:46.735  INFO 35350 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped \"{[/error],methods=[],params=[],headers=[],consumes=[],produces=[text/html],custom=[]}\" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest)\r\n2015-05-09 14:55:46.758  INFO 35350 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]\r\n2015-05-09 14:55:46.759  INFO 35350 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]\r\n2015-05-09 14:55:46.794  INFO 35350 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]\r\n2015-05-09 14:55:46.913  INFO 35350 --- [           main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8181 (http)\r\n2015-05-09 14:55:46.916  INFO 35350 --- [           main] c.i.rt.execution.junit.JUnitStarter      : Started JUnitStarter in 3.853 seconds (JVM running for 4.688)\r\n2015-05-09 14:55:46.935  INFO 35350 --- [           main] u.c.j.e.s.b.test.integration.ExampleIT   : Starting\r\n2015-05-09 14:55:47.058  INFO 35350 --- [nio-8181-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'\r\n2015-05-09 14:55:47.059  INFO 35350 --- [nio-8181-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started\r\n2015-05-09 14:55:47.077  INFO 35350 --- [nio-8181-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 18 ms\r\n2015-05-09 14:55:47.133  INFO 35350 --- [           main] u.c.j.e.s.b.test.integration.ExampleIT   : Ending\r\n2015-05-09 14:55:47.137  INFO 35350 --- [       Thread-1] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@f8c1ddd: startup date [Sat May 09 14:55:43 BST 2015]; root of context hierarchy\r\n\r\nProcess finished with exit code 0\r\n\r\n```\r\n\r\n## The future\r\n\r\nThe implications that Spring boot brings to the table are immense. Some examples that are coming to my mind: \r\n\r\n* Running micro-services without the need of fully flagged containers. Since a Spring boot application can run as a jar, we could deploy micro-applications to highly available servers with enormous advantages for performance and horizontal scalability. \r\n\r\n* Testing our applications inside out before deploying them to an integration or a production environment because easy and allows us to concentrate on the test rather than on the boilerplate code. The examples above showed that we can perform a unit test on a controller (similarly to what one would have done before) but also that we can execute integration tests running on a fully-flagged servlet container (embedded with Spring boot) as a normal unit test. These tests can verify how the controller will actually behave once deployed in production. It becomes easy to test POST requests, JSON interactions, etc. ","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}